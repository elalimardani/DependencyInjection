<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>JSON Viewer Test</title>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Raleway">
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

          <style>
          body {
            font-family: "Raleway";
            font-size: 22px;
            background-color: #243240;
            color: whitesmoke;
            margin: auto auto;
            text-align: center;
          }
          </style>
  </head>
  <body>
      <h1>WHO IS IN SPACE RIGHT NOW?</h1><br />
      <button id="jsonBtn" type="button" class="btn btn-danger">RAW JSON</button>
      <button id="prettyBtn" type="button" class="btn btn-info">Pretty Format</button>

    <div style="margin: 10% auto" id="json"></div>
    <div id="pretty">
        <h2>In JSON format:</h2>
        <p id="jsonFormat"></p>
        <h2>In pretty format</h2>
        <h3 id="number"></h3>
        <h3 id="name"></h3>
        <h3 id="craft"></h3>
    </div>
    <script>

      const url ='http://api.open-notify.org/astros.json'
      const jsonBtn = document.getElementById("jsonBtn")
      const prettyBtn = document.getElementById("prettyBtn")
      const jsonContainer = document.getElementById("json")
      const prettyContainer = document.getElementById("pretty")
      const number = document.getElementById("number")
      const name = document.getElementById("name")
      const craft = document.getElementById("craft")

      jsonBtn.addEventListener('click', () =>{
          fetch(url)
          .then(response => response.json())
          .then( data => justJson(data))
          .catch(err => console.log(err))

          });

          function justJson(data){
            jsonContainer.innerHTML = JSON.stringify(data)
          }

      prettyBtn.addEventListener('click', () =>{
        fetch(url)
        .then(response => response.json())
        .then(data => pretty(data))
        .catch(err => console.log(err))
      });

        function pretty(data){
          number.innerHTML = "Number of People: " +  JSON.stringify(data.number)
          name.innerHTML = "Name: " + JSON.stringify(data.people.name)
        }

            
    </script>
  </body>
 
  </script>
</html>